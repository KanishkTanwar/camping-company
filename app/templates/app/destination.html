{% extends "snippets/base.html" %}

{% load staticfiles %}
    {% block css %}<link rel="stylesheet" href="{% static 'css/home/destination.css' %}">{% endblock %}

    {% block content_block %}
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
      <!-- Wrapper for slides -->
      <div class="carousel-inner">
          {% for item in items %}
        <div class="carousel-item">
            <img class="d-block w-100" src="{{ item.images.url }}">
          <div class="carousel-caption d-md-block">
            <a class="btn" href="{% url 'customer:itinerary_detail_page' pk=item.pk%}">{{item.place}}</a>
          </div>
        </div>
              {% endfor %}
          </div>
      <!-- Controls -->
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
    </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
    </a>
    </div>
<script>
$(function() {
var $item = $('.carousel-item');
var $wHeight = $(window).height();
$item.eq(0).addClass('active');
$item.height($wHeight);
$item.addClass('full-screen');

$('.carousel img').each(function() {
  var $src = $(this).attr('src');
  var $color = $(this).attr('data-color');
  $(this).parent().css({
    'background-image' : 'url(' + $src + ')',
    'background-color' : $color
  });
  $(this).remove();
});

$(window).on('resize', function (){
  $wHeight = $(window).height();
  $item.height($wHeight);
});

$('.carousel').carousel({
  interval: 6000,
  pause: "false"
});
})
</script>
    {% endblock %}
